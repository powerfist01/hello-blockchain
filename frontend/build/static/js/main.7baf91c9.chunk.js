(this["webpackJsonphello-world-part-four"]=this["webpackJsonphello-world-part-four"]||[]).push([[0],{227:function(t,e,n){},246:function(t,e){},248:function(t,e){},251:function(t,e){},255:function(t,e){},256:function(t,e){},283:function(t,e){},285:function(t,e){},299:function(t,e){},301:function(t,e){},316:function(t,e){},333:function(t,e){},335:function(t,e){},353:function(t,e){},354:function(t,e){},424:function(t,e){},426:function(t,e){},432:function(t,e){},444:function(t,e){},447:function(t,e){},452:function(t,e){},537:function(t){t.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"initMessage","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"oldStr","type":"string"},{"indexed":false,"internalType":"string","name":"newStr","type":"string"}],"name":"UpdatedMessages","type":"event"},{"inputs":[],"name":"message","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"newMessage","type":"string"}],"name":"update","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},538:function(t,e,n){},539:function(t,e,n){"use strict";n.r(e);var r=n(23),a=n.n(r),s=n(208),u=n.n(s),c=(n(227),n(14)),i=n.n(c),o=n(25),p=n(64),l=n(11);n(230).config();var d=(0,n(540).createAlchemyWeb3)("wss://eth-ropsten.alchemyapi.io/v2/vw5iYiEwZRKtt9ewGRNf9Ss9gGWsk5iC"),h=n(537),f="0x9D5Fc633B09AC536924B72b52D575EAb9b78108e",b=new d.eth.Contract(h,f),m=function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,b.methods.message().call();case 2:return e=t.sent,t.abrupt("return",e);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),j=function(){var t=Object(o.a)(i.a.mark((function t(){var e,n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.ethereum){t.next=14;break}return t.prev=1,t.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return e=t.sent,n={status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above.",address:e[0]},t.abrupt("return",n);case 9:return t.prev=9,t.t0=t.catch(1),t.abrupt("return",{address:"",status:"\ud83d\ude25 "+t.t0.message});case 12:t.next=15;break;case 14:return t.abrupt("return",{address:"",status:Object(l.jsx)("span",{children:Object(l.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(l.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 15:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!window.ethereum){t.next=17;break}return t.prev=1,t.next=4,window.ethereum.request({method:"eth_accounts"});case 4:if(!((e=t.sent).length>0)){t.next=9;break}return t.abrupt("return",{address:e[0],status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above."});case 9:return t.abrupt("return",{address:"",status:"\ud83e\udd8a Connect to Metamask using the top right button."});case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(1),t.abrupt("return",{address:"",status:"\ud83d\ude25 "+t.t0.message});case 15:t.next=18;break;case 17:return t.abrupt("return",{address:"",status:Object(l.jsx)("span",{children:Object(l.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(l.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 18:case"end":return t.stop()}}),t,null,[[1,12]])})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(o.a)(i.a.mark((function t(e,n){var r,a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(window.ethereum&&null!==e){t.next=2;break}return t.abrupt("return",{status:"\ud83d\udca1 Connect your Metamask wallet to update the message on the blockchain."});case 2:if(""!==n.trim()){t.next=4;break}return t.abrupt("return",{status:"\u274c Your message cannot be an empty string."});case 4:return r={to:f,from:e,data:b.methods.update(n).encodeABI()},t.prev=5,t.next=8,window.ethereum.request({method:"eth_sendTransaction",params:[r]});case 8:return a=t.sent,t.abrupt("return",{status:Object(l.jsxs)("span",{children:["\u2705"," ",Object(l.jsx)("a",{target:"_blank",href:"https://ropsten.etherscan.io/tx/".concat(a),children:"View the status of your transaction on Etherscan!"}),Object(l.jsx)("br",{}),"\u2139\ufe0f Once the transaction is verified by the network, the message will be updated automatically."]})});case 12:return t.prev=12,t.t0=t.catch(5),t.abrupt("return",{status:"\ud83d\ude25 "+t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[5,12]])})));return function(e,n){return t.apply(this,arguments)}}(),x=n.p+"static/media/alchemylogo.f670e5f2.svg",v=function(){var t=Object(r.useState)(""),e=Object(p.a)(t,2),n=e[0],a=e[1],s=Object(r.useState)(""),u=Object(p.a)(s,2),c=u[0],d=u[1],h=Object(r.useState)("No connection to the network."),f=Object(p.a)(h,2),v=f[0],y=f[1],O=Object(r.useState)(""),k=Object(p.a)(O,2),C=k[0],M=k[1];function S(){window.ethereum?window.ethereum.on("accountsChanged",(function(t){t.length>0?(a(t[0]),d("\ud83d\udc46\ud83c\udffd Write a message in the text-field above.")):(a(""),d("\ud83e\udd8a Connect to Metamask using the top right button."))})):d(Object(l.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(l.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]}))}Object(r.useEffect)(Object(o.a)(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=function(){return(r=Object(o.a)(i.a.mark((function t(){var e,n,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g();case 2:e=t.sent,n=e.address,r=e.status,a(n),d(r);case 7:case"end":return t.stop()}}),t)})))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},e=function(){return(e=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m();case 2:e=t.sent,y(e);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)},function(){return e.apply(this,arguments)}(),b.events.UpdatedMessages({},(function(t,e){t?d("\ud83d\ude25 "+t.message):(y(e.returnValues[1]),M(""),d("\ud83c\udf89 Your message has been updated!"))})),n(),S();case 8:case"end":return t.stop()}}),t)}))),[]);var T=function(){var t=Object(o.a)(i.a.mark((function t(){var e;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:e=t.sent,d(e.status),a(e.address);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),E=function(){var t=Object(o.a)(i.a.mark((function t(){var e,r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(n,C);case 2:e=t.sent,r=e.status,d(r);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.jsxs)("div",{id:"container",children:[Object(l.jsx)("img",{id:"logo",src:x}),Object(l.jsx)("button",{id:"walletButton",onClick:T,children:n.length>0?"Connected: "+String(n).substring(0,6)+"..."+String(n).substring(38):Object(l.jsx)("span",{children:"Connect Wallet"})}),Object(l.jsx)("h2",{style:{paddingTop:"50px"},children:"Current Message:"}),Object(l.jsx)("p",{children:v}),Object(l.jsx)("h2",{style:{paddingTop:"18px"},children:"New Message:"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",placeholder:"Update the message in your smart contract.",onChange:function(t){return M(t.target.value)},value:C}),Object(l.jsx)("p",{id:"status",children:c}),Object(l.jsx)("button",{id:"publish",onClick:E,children:"Update"})]})]})};n(538);var y=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(v,{})})},O=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,544)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,s=e.getLCP,u=e.getTTFB;n(t),r(t),a(t),s(t),u(t)}))};u.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),O()}},[[539,1,2]]]);
//# sourceMappingURL=main.7baf91c9.chunk.js.map