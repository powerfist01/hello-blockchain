(this["webpackJsonphello-blockchain"]=this["webpackJsonphello-blockchain"]||[]).push([[0],{227:function(e,t,n){},246:function(e,t){},248:function(e,t){},251:function(e,t){},255:function(e,t){},256:function(e,t){},283:function(e,t){},285:function(e,t){},299:function(e,t){},301:function(e,t){},316:function(e,t){},333:function(e,t){},335:function(e,t){},353:function(e,t){},354:function(e,t){},424:function(e,t){},426:function(e,t){},432:function(e,t){},444:function(e,t){},447:function(e,t){},452:function(e,t){},537:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"string","name":"initMessage","type":"string"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"string","name":"oldStr","type":"string"},{"indexed":false,"internalType":"string","name":"newStr","type":"string"}],"name":"UpdatedMessages","type":"event"},{"inputs":[],"name":"message","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"string","name":"newMessage","type":"string"}],"name":"update","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},538:function(e,t,n){},539:function(e,t,n){"use strict";n.r(t);var r=n(23),a=n.n(r),s=n(208),c=n.n(s),u=(n(227),n(14)),i=n.n(u),o=n(25),p=n(64),l=n(11);n(230).config();var h=(0,n(540).createAlchemyWeb3)("wss://eth-ropsten.alchemyapi.io/v2/vw5iYiEwZRKtt9ewGRNf9Ss9gGWsk5iC"),d=n(537),f="0x9D5Fc633B09AC536924B72b52D575EAb9b78108e",b=new h.eth.Contract(d,f),m=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.methods.message().call();case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(o.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=14;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_requestAccounts"});case 4:return t=e.sent,n={status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above.",address:t[0]},e.abrupt("return",n);case 9:return e.prev=9,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"\ud83d\ude25 "+e.t0.message});case 12:e.next=15;break;case 14:return e.abrupt("return",{address:"",status:Object(l.jsx)("span",{children:Object(l.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(l.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",rel:"noreferrer",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 15:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.ethereum){e.next=17;break}return e.prev=1,e.next=4,window.ethereum.request({method:"eth_accounts"});case 4:if(!((t=e.sent).length>0)){e.next=9;break}return e.abrupt("return",{address:t[0],status:"\ud83d\udc46\ud83c\udffd Write a message in the text-field above."});case 9:return e.abrupt("return",{address:"",status:"\ud83e\udd8a Connect to Metamask using the top right button."});case 10:e.next=15;break;case 12:return e.prev=12,e.t0=e.catch(1),e.abrupt("return",{address:"",status:"\ud83d\ude25 "+e.t0.message});case 15:e.next=18;break;case 17:return e.abrupt("return",{address:"",status:Object(l.jsx)("span",{children:Object(l.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(l.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",rel:"noreferrer",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]})})});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(o.a)(i.a.mark((function e(t,n){var r,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.ethereum&&null!==t){e.next=2;break}return e.abrupt("return",{status:"\ud83d\udca1 Connect your Metamask wallet to update the message on the blockchain."});case 2:if(""!==n.trim()){e.next=4;break}return e.abrupt("return",{status:"\u274c Your message cannot be an empty string."});case 4:return r={to:f,from:t,data:b.methods.update(n).encodeABI()},e.prev=5,e.next=8,window.ethereum.request({method:"eth_sendTransaction",params:[r]});case 8:return a=e.sent,e.abrupt("return",{status:Object(l.jsxs)("span",{children:["\u2705"," ",Object(l.jsx)("a",{target:"_blank",href:"https://ropsten.etherscan.io/tx/".concat(a),rel:"noreferrer",children:"View the status of your transaction on Etherscan!"}),Object(l.jsx)("br",{}),"\u2139\ufe0f Once the transaction is verified by the network, the message will be updated automatically."]})});case 12:return e.prev=12,e.t0=e.catch(5),e.abrupt("return",{status:"\ud83d\ude25 "+e.t0.message});case 15:case"end":return e.stop()}}),e,null,[[5,12]])})));return function(t,n){return e.apply(this,arguments)}}(),w=n.p+"static/media/alchemylogo.f670e5f2.svg",v=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),n=t[0],a=t[1],s=Object(r.useState)(""),c=Object(p.a)(s,2),u=c[0],h=c[1],d=Object(r.useState)("No connection to the network."),f=Object(p.a)(d,2),v=f[0],y=f[1],O=Object(r.useState)(""),k=Object(p.a)(O,2),M=k[0],C=k[1];function S(){window.ethereum?window.ethereum.on("accountsChanged",(function(e){e.length>0?(a(e[0]),h("\ud83d\udc46\ud83c\udffd Write a message in the text-field above.")):(a(""),h("\ud83e\udd8a Connect to Metamask using the top right button."))})):h(Object(l.jsxs)("p",{children:[" ","\ud83e\udd8a"," ",Object(l.jsx)("a",{target:"_blank",href:"https://metamask.io/download.html",rel:"noreferrer",children:"You must install Metamask, a virtual Ethereum wallet, in your browser."})]}))}Object(r.useEffect)(Object(o.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=function(){return(r=Object(o.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g();case 2:t=e.sent,n=t.address,r=t.status,a(n),h(r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)},n=function(){return r.apply(this,arguments)},t=function(){return(t=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m();case 2:t=e.sent,y(t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)},function(){return t.apply(this,arguments)}(),b.events.UpdatedMessages({},(function(e,t){e?h("\ud83d\ude25 "+e.message):(y(t.returnValues[1]),C(""),h("\ud83c\udf89 Your message has been updated!"))})),n(),S();case 8:case"end":return e.stop()}}),e)}))),[]);var T=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:t=e.sent,h(t.status),a(t.address);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(o.a)(i.a.mark((function e(){var t,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x(n,M);case 2:t=e.sent,r=t.status,h(r);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.jsxs)("div",{id:"container",children:[Object(l.jsx)("img",{id:"logo",src:w,alt:"MrPowerfist"}),Object(l.jsx)("button",{id:"walletButton",onClick:T,children:n.length>0?"Connected: "+String(n).substring(0,6)+"..."+String(n).substring(38):Object(l.jsx)("span",{children:"Connect Wallet"})}),Object(l.jsx)("h2",{style:{paddingTop:"50px"},children:"Current Message:"}),Object(l.jsx)("p",{children:v}),Object(l.jsx)("h2",{style:{paddingTop:"18px"},children:"New Message:"}),Object(l.jsxs)("div",{children:[Object(l.jsx)("input",{type:"text",placeholder:"Update the message in your smart contract.",onChange:function(e){return C(e.target.value)},value:M}),Object(l.jsx)("p",{id:"status",children:u}),Object(l.jsx)("button",{id:"publish",onClick:E,children:"Update"})]})]})};n(538);var y=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(v,{})})},O=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,544)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,s=t.getLCP,c=t.getTTFB;n(e),r(e),a(e),s(e),c(e)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(y,{})}),document.getElementById("root")),O()}},[[539,1,2]]]);
//# sourceMappingURL=main.38ccc02a.chunk.js.map